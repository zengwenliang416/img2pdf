<div align="center">
  <img src="public/logo.png" alt="æ‰«æå…¨èƒ½ç‹ Logo" width="120" height="120" />

# æ‰«æå…¨èƒ½ç‹ (Img2PDF)

**æ‚¨çš„éšç§æ–‡æ¡£æ‰«æä¸“å®¶ - æœ¬åœ°å¤„ç†ï¼Œå®‰å…¨é«˜æ•ˆ**

[![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=flat-square&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue?style=flat-square&logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue?style=flat-square&logo=typescript)](https://www.typescriptlang.org/)
[![Privacy](https://img.shields.io/badge/Privacy-Local%20Processing-green?style=flat-square&logo=shield)](https://github.com/zengwenliang416/img2pdf)
[![License](https://img.shields.io/badge/License-MIT-orange?style=flat-square)](LICENSE)

</div>

<br/>

## ğŸ–¥ï¸ äº§å“é¢„è§ˆ

<div align="center">
  <img src="docs/images/web-ui-preview.png" alt="ç½‘é¡µç«¯ç•Œé¢é¢„è§ˆ" width="800" />
</div>

<br/>

## âœ¨ æ ¸å¿ƒäº®ç‚¹

**æ‰«æå…¨èƒ½ç‹** æ˜¯ä¸€æ¬¾åŸºäºæµè§ˆå™¨çš„ç°ä»£åŒ–æ–‡æ¡£æ‰«æå·¥å…·ã€‚ä¸åŒäºä¼ ç»Ÿ Appï¼Œæˆ‘ä»¬åšæŒ **ğŸ”’ æ•°æ®é›¶ä¸Šä¼ **ï¼Œæ‰€æœ‰å›¾åƒå¤„ç†å‡åœ¨æ‚¨çš„æœ¬åœ°æµè§ˆå™¨ä¸­å®Œæˆï¼Œç¡®ä¿æ‚¨çš„éšç§å®‰å…¨ã€‚

| âš¡ï¸ æ™ºèƒ½æ•è·                                                               | ğŸ¨ ä¸“ä¸šæ»¤é•œ                                                              | ğŸ“„ é«˜æ¸…å¯¼å‡º                                                               |
| :------------------------------------------------------------------------ | :----------------------------------------------------------------------- | :------------------------------------------------------------------------ |
| **æ¯«ç§’çº§è¾¹ç¼˜æ£€æµ‹**<br>åŸºäº OpenCV.js è‡ªåŠ¨è¯†åˆ«æ–‡æ¡£è½®å»“ï¼Œæ™ºèƒ½å»é™¤èƒŒæ™¯æ‚ä¹±ã€‚ | **5 ç§å½±åƒå¢å¼ºæ¨¡å¼**<br>åŸå›¾ã€ç°åº¦ã€é»‘ç™½ã€å¢å¼ºã€å»é˜´å½±ï¼Œè¿˜åŸæ–‡æ¡£æ¸…æ™°åº¦ã€‚ | **å¤šé¡µ PDF ç”Ÿæˆ**<br>æ”¯æŒ A4/B5 ç­‰å¤šç§è§„æ ¼ï¼Œä¸€é”®ç”Ÿæˆé«˜æ¸… PDF æˆ–æ‰“åŒ… JPGã€‚ |

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **ğŸ“¸ çµæ´»å¯¼å…¥**ï¼šæ”¯æŒç›¸æœºå®æ—¶æ‹æ‘„ã€æœ¬åœ°æ–‡ä»¶ä¸Šä¼ ï¼Œå•æ¬¡æ‰¹é‡å¯¼å…¥æœ€å¤š 10 å¼ å›¾ç‰‡
- **âœ‚ï¸ ç²¾å‡†è£å‰ª**ï¼šè‡ªåŠ¨å¸é™„è¾¹ç¼˜ï¼Œå››ç‚¹æ‰‹åŠ¨å¾®è°ƒï¼Œé€è§†çŸ«æ­£æ›´ç²¾å‡†
- **ğŸ”„ é¡µé¢ç®¡ç†**ï¼šæ‹–æ‹½æ’åºã€æ‰¹é‡åˆ é™¤ï¼Œæ¯é¡µå¯ç‹¬ç«‹è®¾ç½®æ—‹è½¬æ–¹å‘å’Œæ»¤é•œæ•ˆæœ
- **ğŸ›¡ï¸ éšç§å®‰å…¨**ï¼šçº¯å‰ç«¯è¿è¡Œï¼Œæ— åç«¯å­˜å‚¨ï¼Œæ‚¨çš„æ–‡æ¡£åªå±äºæ‚¨è‡ªå·±
- **ğŸ“± å…¨ç«¯å…¼å®¹**ï¼šå®Œç¾é€‚é… PCã€iOS å’Œ Android æµè§ˆå™¨

### å¯¼å‡ºèƒ½åŠ›

| å¯¼å‡ºæ ¼å¼ | çº¸å¼ å°ºå¯¸                      | è´¨é‡è®¾ç½®      | æ–¹å‘è®¾ç½®                  |
| -------- | ----------------------------- | ------------- | ------------------------- |
| PDF      | A4 / A5 / Letter / Legal / B5 | 50%-100% å¯è°ƒ | æ¯é¡µç‹¬ç«‹çºµå‘/æ¨ªå‘         |
| JPG      | -                             | 50%-100% å¯è°ƒ | æ”¯æŒæ—‹è½¬ 0Â°/90Â°/180Â°/270Â° |
| ZIP      | -                             | åŒ JPG        | æ‰¹é‡å¯¼å‡ºæ‰€æœ‰é¡µ            |

## ğŸ“– ä½¿ç”¨æŒ‡å—

ç®€å•å››æ­¥ï¼Œå®Œæˆä¸“ä¸šæ‰«æï¼š

```
ğŸ“¸ ä¸Šä¼ /æ‹æ‘„  â†’  âœ‚ï¸ æ™ºèƒ½è£å‰ª  â†’  ğŸ¨ æ»¤é•œç¾åŒ–  â†’  ğŸ“¤ å¯¼å‡ºåˆ†äº«
```

1. **ä¸Šä¼ /æ‹æ‘„** - é€‰æ‹©å›¾ç‰‡æˆ–ç›´æ¥æ‹ç…§
2. **æ™ºèƒ½è£å‰ª** - ç³»ç»Ÿè‡ªåŠ¨æ¡†é€‰ï¼Œæ‰‹åŠ¨å¾®è°ƒå››è§’
3. **æ»¤é•œç¾åŒ–** - é€‰æ‹©"å¢å¼º"æˆ–"é»‘ç™½"æ»¤é•œæ¸…é™¤åº•è‰²
4. **å¯¼å‡ºåˆ†äº«** - ç”Ÿæˆ PDF æ–‡ä»¶æˆ–ä¸‹è½½å›¾ç‰‡åŒ…

## ğŸ’» å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.9.0ï¼ˆNext.js 16 è¦æ±‚ï¼‰
- pnpm >= 9

### å®‰è£…ä¸è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/zengwenliang416/img2pdf.git
cd img2pdf

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘ç¯å¢ƒ
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å³å¯ä½“éªŒã€‚

### æ„å»ºéƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

> ç‰ˆæœ¬ä»¥ `package.json` / `pnpm-lock.yaml` ä¸ºå‡†

| æŠ€æœ¯                                          | ç‰ˆæœ¬      | ç”¨é€”              |
| :-------------------------------------------- | :-------- | :---------------- |
| [Next.js](https://nextjs.org/)                | 16.0.10   | React å…¨æ ˆæ¡†æ¶    |
| [React](https://react.dev/)                   | 19.2.1    | UI ç»„ä»¶åº“         |
| [TypeScript](https://www.typescriptlang.org/) | 5.9.3     | ç±»å‹å®‰å…¨          |
| [Tailwind CSS](https://tailwindcss.com/)      | 4.1.18    | æ ·å¼æ¡†æ¶          |
| [Zustand](https://zustand-demo.pmnd.rs/)      | 5.0.9     | çŠ¶æ€ç®¡ç†          |
| [OpenCV.js](https://docs.opencv.org/)         | å†…ç½® WASM | è¾¹ç¼˜æ£€æµ‹/é€è§†çŸ«æ­£ |
| [pdf-lib](https://pdf-lib.js.org/)            | 1.17.1    | PDF ç”Ÿæˆ          |
| [@dnd-kit](https://dndkit.com/)               | 6.3.1     | æ‹–æ‹½æ’åº          |
| [JSZip](https://stuk.github.io/jszip/)        | 3.10.1    | ZIP æ‰“åŒ…          |

### é¡¹ç›®ç»“æ„

```
img2pdf/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                 # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx     # å›¾ç‰‡ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ CornerEditor.tsx    # å››ç‚¹ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ FilterPanel.tsx     # æ»¤é•œé¢æ¿
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/                  # ä¸šåŠ¡ Hooks
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ opencv/             # OpenCV å›¾åƒå¤„ç†
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ store.ts            # Zustand çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ public/
â”‚   â””â”€â”€ opencv/                 # OpenCV.js é™æ€æ–‡ä»¶
â””â”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¨¡å—

- **è¾¹ç¼˜æ£€æµ‹** (`lib/opencv/detectEdges.ts`)ï¼šCanny + è½®å»“æŸ¥æ‰¾ + å››è¾¹å½¢æ‹Ÿåˆ
- **é€è§†å˜æ¢** (`lib/opencv/perspectiveTransform.ts`)ï¼šå››ç‚¹é€è§†çŸ«æ­£
- **æ»¤é•œå¤„ç†** (`lib/opencv/imageFilters.ts`)ï¼šä½¿ç”¨ Canvas å®ç°ï¼Œé¿å… WASM å¼€é”€
- **PDF å¯¼å‡º** (`lib/utils/exportPdf.ts`)ï¼špdf-lib ç”Ÿæˆï¼Œæ”¯æŒè´¨é‡æ§åˆ¶

## ğŸ”’ éšç§ä¸å®‰å…¨

- **æœ¬åœ°å¤„ç†**ï¼šè¾¹ç¼˜æ£€æµ‹ã€è£å‰ªã€æ»¤é•œã€PDF/ZIP å¯¼å‡ºå‡åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œä¸ä¸Šä¼ ä»»ä½•æ•°æ®
- **ç›¸æœºæƒé™**ï¼šæ‹ç…§åŠŸèƒ½ä¾èµ– `getUserMedia`ï¼Œä»…åœ¨ HTTPS æˆ– localhost ç¯å¢ƒå¯ç”¨
- **èµ„æºè‡ªæ‰˜ç®¡**ï¼šOpenCV.js ä»æœ¬åœ°åŠ è½½ï¼Œæ— ç¬¬ä¸‰æ–¹ CDN ä¾èµ–

## ğŸ“± æµè§ˆå™¨å…¼å®¹æ€§

| å¹³å°    | æµè§ˆå™¨  | æœ€ä½ç‰ˆæœ¬ |
| ------- | ------- | -------- |
| Desktop | Chrome  | 90+      |
| Desktop | Safari  | 14+      |
| Desktop | Firefox | 88+      |
| Desktop | Edge    | 90+      |
| iOS     | Safari  | 14+      |
| Android | Chrome  | 90+      |

## âš¡ æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡             | ç›®æ ‡å€¼  | æµ‹è¯•æ¡ä»¶              |
| ---------------- | ------- | --------------------- |
| è¾¹ç¼˜æ£€æµ‹è€—æ—¶     | < 2s    | 12MP å›¾ç‰‡ï¼Œä¸­é«˜ç«¯è®¾å¤‡ |
| æ»¤é•œåˆ‡æ¢å“åº”     | < 100ms | -                     |
| PDF ç”Ÿæˆï¼ˆ10é¡µï¼‰ | < 5s    | -                     |
| é¦–å±åŠ è½½         | < 3s    | 4G ç½‘ç»œ               |

## ğŸ”§ å¼€å‘æŒ‡å—

### å¸¸ç”¨å‘½ä»¤

```bash
pnpm dev          # å¼€å‘æ¨¡å¼
pnpm build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm start        # ç”Ÿäº§æ¨¡å¼
pnpm lint         # ESLint æ£€æŸ¥
pnpm exec tsc --noEmit  # TypeScript ç±»å‹æ£€æŸ¥
```

### æ·»åŠ æ–°æ»¤é•œ

1. åœ¨ `src/lib/opencv/imageFilters.ts` ä¸­ï¼š
   - æ‰©å±• `FilterType` ç±»å‹
   - åœ¨ `applyFilter` çš„ `switch` ä¸­å®ç°å¤„ç†é€»è¾‘
   - æ›´æ–° `getFilterName` / `AVAILABLE_FILTERS`
2. `FilterPanel` é»˜è®¤ä½¿ç”¨ `AVAILABLE_FILTERS` æ¸²æŸ“æŒ‰é’®

### è‡ªå®šä¹‰çº¸å¼ å°ºå¯¸

åœ¨ `src/lib/store.ts` ä¸­ä¿®æ”¹ `PAPER_SIZES` å¸¸é‡ï¼š

```typescript
export const PAPER_SIZES: Record<
  PaperSize,
  { width: number; height: number; label: string }
> = {
  a4: { width: 595.28, height: 841.89, label: "A4" },
  // æ·»åŠ æ–°å°ºå¯¸...
};
```

## ğŸ§¯ æ•…éšœæ’æŸ¥

- **OpenCV åŠ è½½å¤±è´¥**ï¼šç¡®è®¤ `public/opencv/opencv.js` å­˜åœ¨ï¼Œæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ç½‘ç»œè¯·æ±‚
- **ç›¸æœºä¸å¯ç”¨**ï¼šç¡®è®¤ä½¿ç”¨ HTTPS æˆ– localhostï¼Œæ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®
- **å¯¼å‡ºå¾ˆæ…¢**ï¼šå°è¯•é™ä½å¯¼å‡ºè´¨é‡ï¼ˆ50%ï½80%ï¼‰æˆ–å‡å°‘é¡µæ•°

## ğŸ“š æ–‡æ¡£

æ›´è¯¦ç»†çš„è®¾è®¡ä¸ç®—æ³•è¯´æ˜è§ `docs/`ï¼š

- `docs/04-technical-architecture.md`ï¼šæŠ€æœ¯æ¶æ„ä¸æ¨¡å—åˆ’åˆ†
- `docs/05-image-algorithms.md`ï¼šè¾¹ç¼˜æ£€æµ‹/é€è§†çŸ«æ­£ç®—æ³•è¯´æ˜
- `docs/06-security-compliance.md`ï¼šéšç§ä¸å®‰å…¨åˆè§„

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

---

<div align="center">
  <sub>Made with â¤ï¸ by <a href="https://github.com/zengwenliang416">zengwenliang416</a></sub>
</div>
